# russian-railways-simplelines

Проект по созданию набора геоданных "Генерализованные железные дороги России".

![Russian railways map](map.png)

# Цель проекта

Сделать векторный слой, в котором будут хотя бы главные железные дороги, в виде одиночных и максимально длинных линий.

В OSM железные дороги отрисованы двойными или даже счетверными линиями, и порезаны по кусочкам. 
Такие геометрии некрасиво рендрятся на карте

![Image of Yaktocat](https://upload.wikimedia.org/wikipedia/commons/3/3f/Abakan-taishet_osm_tilemill.png)

На этой карте чёрные линии получились разной толщины, и ещё какие-то чёрные точки.

А потом появился сервис brouter, где можно строить маршрут по железным дорогам, и сохранять его в geojson 

![Image of Yaktocat](https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Южное_железнодорожное_полукольцо_Петербурга_location_map.svg/640px-Южное_железнодорожное_полукольцо_Петербурга_location_map.svg.png)

Трассировкой можно сделать вот такие линии. Это более красиво, и позволяет делать линию с белым пунктиром.
Так же, для карт среднего масштаба, линии можно будет сглаживать в QGIS, а сейчас они короткие, и не сглаживаются.

# Использование

```
git clone или скачайте архив
python _merge.py
```
Откройте слой _merged.vrt в QGIS

# Использование на Windows

Можно поставить NextGIS QGIS, запустить через меню "Старт" NextGIS Command Prompt. Откроется консоль, в которой можно запустить python merge.py


# Структура данных

Геоданные получаются путём трассировки железных дорог OpenStreetMap на сервисе brouter-web:
http://brouter.de/brouter-web/#map=11/48.5141/44.5283/osm-mapnik-german_style&lonlats=44.603457,48.798044;44.675549,48.479066&profile=rail

Получается одна линия для многопутных дорог. На развязках и узлах трассируется минимум линий. 
## Лицензия

Это производная работа от Openstreetmap.

## Состав

1. GPKG с линиями РЖД разделёными на 3 класса мной. 

2. Линии ЯЖД
3. Линии КЖД (Крымской) (граница проходит на территории Кубани, где-то в районе стании Тамань)

Нужно ли трассировать малодеятельные ветки РЖД - будет видно потом. 

# Contributing

Доделать geojson используя brouter. Кидайте geojson пуллреквестом, или как умеете.

1. Зайти на http://brouter.de/brouter-web
2. Выбрать роутер Railway
3. Построить маршрут по какой-либо ЖД-линии.
4. Export GeoJSON. Замените русское название на транслит.
5. Повторить пункты 3,4. Полученные файлы сложить в папку, и залить как pull-request, или как-нибудь ещё
 .
